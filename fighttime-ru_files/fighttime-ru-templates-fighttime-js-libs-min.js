!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var o=!1,t=!1,r=0,i=2e3,n=0,s=e,l=document,a=window,c=s(a),d=[],u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,h=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(u)a.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,o){var t=(new Date).getTime(),r=Math.max(0,16-(t-p)),i=a.setTimeout((function(){e(t+r)}),r);return p=t+r,i},h=function(e){a.clearTimeout(e)}}var m=a.MutationObserver||a.WebKitMutationObserver||!1,f=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=l.currentScript||function(){var e=l.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),o=e?e.src.split("?")[0]:"";return o.split("/").length>0?o.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var e=l.createElement("DIV"),o=e.style,t=navigator.userAgent,r=navigator.platform,i={};return i.haspointerlock="pointerLockElement"in l||"webkitPointerLockElement"in l||"mozPointerLockElement"in l,i.isopera="opera"in a,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),i.isie="all"in l&&"attachEvent"in e&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in o),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in l)||7===l.documentMode),i.isie8=i.isie&&"documentMode"in l&&8===l.documentMode,i.isie9=i.isie&&"performance"in a&&9===l.documentMode,i.isie10=i.isie&&"performance"in a&&10===l.documentMode,i.isie11="msRequestFullscreen"in e&&l.documentMode>=11,i.ismsedge="msCredentials"in a,i.ismozilla="MozAppearance"in o,i.iswebkit=!i.ismsedge&&"WebkitAppearance"in o,i.ischrome=i.iswebkit&&"chrome"in a,i.ischrome38=i.ischrome&&"touchAction"in o,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in o,i.cantouch="ontouchstart"in l.documentElement||"ontouchstart"in a,i.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(a.MSPointerEvent||!1),i.ismac=/^mac$/i.test(r),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(r),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in l,i.isios8=i.isios&&"hidden"in l,i.isios10=i.isios&&a.Proxy,i.isandroid=/android/i.test(t),i.haseventlistener="addEventListener"in e,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1,i.trstyle="transform",i.hastransform="transform"in o||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],t=0,r=e.length;t<r;t++)if(void 0!==o[e[t]]){i.trstyle=e[t];break}i.hastransform=!!i.trstyle}(),i.hastransform&&(o[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(o[i.trstyle])),i.transitionstyle="transition",i.prefixstyle="",i.transitionend="transitionend",i.hastransition="transition"in o||function(){i.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],t=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],r=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],n=0,s=e.length;n<s;n++)if(e[n]in o){i.transitionstyle=e[n],i.prefixstyle=t[n],i.transitionend=r[n];break}i.ischrome26&&(i.prefixstyle=t[1]),i.hastransition=i.transitionstyle}(),i.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(e=[]);for(var t=0,r=e.length;t<r;t++){var n=e[t];if(o.cursor=n,o.cursor==n)return n}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in e,i.hasMutationObserver=!1!==m,e=null,v=i,i},b=function(e,p){function v(){var e=z.doc.css(_.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(e,o,t){var r=e.css(o),i=parseFloat(r);if(isNaN(i)){var n=3==(i=R[r]||0)?t?z.win.outerHeight()-z.win.innerHeight():z.win.outerWidth()-z.win.innerWidth():1;return z.isie8&&i&&(i+=1),n?i:0}return i}function x(e,o,t,r){z._bind(e,o,(function(r){var i={original:r=r||a.event,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==o?(r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX),r.wheelDeltaY&&(i.deltaY=-.025*r.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*r.wheelDelta)):i.deltaY=r.detail,t.call(e,i)}),r)}function S(e,o,t,r){z.scrollrunning||(z.newscrolly=z.getScrollTop(),z.newscrollx=z.getScrollLeft(),D=f());var i=f()-D;if(D=f(),i>350?X=1:X+=(2-X)/10,o=o*X|0,e=e*X|0){if(r)if(e<0){if(z.getScrollLeft()>=z.page.maxw)return!0}else if(z.getScrollLeft()<=0)return!0;var n=e>0?1:-1;Y!==n&&(z.scrollmom&&z.scrollmom.stop(),z.newscrollx=z.getScrollLeft(),Y=n),z.lastdeltax-=e}if(o){if(function(){var e=z.getScrollTop();if(o<0){if(e>=z.page.maxh)return!0}else if(e<=0)return!0}()){if(E.nativeparentscrolling&&t&&!z.ispage&&!z.zoomactive)return!0;var s=z.view.h>>1;z.newscrolly<-s?(z.newscrolly=-s,o=-1):z.newscrolly>z.page.maxh+s?(z.newscrolly=z.page.maxh+s,o=1):o=0}var l=o>0?1:-1;O!==l&&(z.scrollmom&&z.scrollmom.stop(),z.newscrolly=z.getScrollTop(),O=l),z.lastdeltay-=o}(o||e)&&z.synched("relativexy",(function(){var e=z.lastdeltay+z.newscrolly;z.lastdeltay=0;var o=z.lastdeltax+z.newscrollx;z.lastdeltax=0,z.rail.drag||z.doScrollPos(o,e)}))}function k(e,o,t){var r,i;return!(t||!A)||(0===e.deltaMode?(r=-e.deltaX*(E.mousescrollstep/54)|0,i=-e.deltaY*(E.mousescrollstep/54)|0):1===e.deltaMode&&(r=-e.deltaX*E.mousescrollstep*50/80|0,i=-e.deltaY*E.mousescrollstep*50/80|0),o&&E.oneaxismousemode&&0===r&&i&&(r=i,i=0,t&&(r<0?z.getScrollLeft()>=z.page.maxw:z.getScrollLeft()<=0)&&(i=r,r=0)),z.isrtlmode&&(r=-r),S(r,i,t,!0)?void(t&&(A=!0)):(A=!1,e.stopImmediatePropagation(),e.preventDefault()))}var z=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var T=s("body"),E=this.opt={doc:T,win:!1};if(s.extend(E,g),E.snapbackspeed=80,e)for(var L in E)void 0!==e[L]&&(E[L]=e[L]);if(E.disablemutationobserver&&(m=!1),this.doc=E.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(E.win?E.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==E.win,this.win=E.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=T,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=E.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==E.rtlmode){var C=this.win[0]==a?this.body:this.win,M=C.css("writing-mode")||C.css("-webkit-writing-mode")||C.css("-ms-writing-mode")||C.css("-moz-writing-mode");"horizontal-tb"==M||"lr-tb"==M||""===M?(this.isrtlmode="rtl"==C.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==M||"tb"==M||"tb-rl"==M||"rl-tb"==M,this.isvertical="vertical-rl"==M||"tb"==M||"tb-rl"==M)}else this.isrtlmode=!0===E.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==E.scrollbarid)this.id=E.scrollbarid;else do{this.id="ascrail"+i++}while(l.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=E.overflowx,this.overflowy=E.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var _=s.extend({},this.detected);this.canhwscroll=_.hastransform&&E.hwacceleration,this.ishwscroll=this.canhwscroll&&z.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(_.iswebkit||_.isie||_.isie11):this.hasreversehr=!(_.iswebkit||_.isie&&!_.isie10&&!_.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(_.cantouch||!_.hasw3ctouch&&!_.hasmstouch)&&(!_.cantouch||_.isios||_.isandroid||!_.iswebkit&&!_.ismozilla)||(this.istouchcapable=!0),E.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.debounced=function(e,o,t){z&&(z.delaylist[e]||(z.delaylist[e]={h:u((function(){z.delaylist[e].fn.call(z),z.delaylist[e]=!1}),t)},o.call(z)),z.delaylist[e].fn=o)},this.synched=function(e,o){z.synclist[e]?z.synclist[e]=o:(z.synclist[e]=o,u((function(){z&&(z.synclist[e]&&z.synclist[e].call(z),z.synclist[e]=null)})))},this.unsynched=function(e){z.synclist[e]&&(z.synclist[e]=!1)},this.css=function(e,o){for(var t in o)z.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?z.getScrollTop():z.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?z.getScrollLeft():z.setScrollLeft(e)};var P=function(e,o,t,r,i,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=n||0,this.p4=s||1,this.ts=f(),this.df=o-e};if(P.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(f()-this.ts)/this.spd},getNow:function(){var e=(f()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*o|0},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=f(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var o=v();if(o)return 16==o.length?-o[13]:-o[5];if(z.timerscroll&&z.timerscroll.bz)return z.timerscroll.bz.getNow()}return z.doc.translate.y},this.getScrollLeft=function(e){if(!e){var o=v();if(o)return 16==o.length?-o[12]:-o[4];if(z.timerscroll&&z.timerscroll.bh)return z.timerscroll.bh.getNow()}return z.doc.translate.x},this.notifyScrollEvent=function(e){var o=l.createEvent("UIEvents");o.initUIEvent("scroll",!1,!1,a,1),o.niceevent=!0,e.dispatchEvent(o)};var N=this.isrtlmode?1:-1;_.hastranslate3d&&E.enabletranslate3d?(this.setScrollTop=function(e,o){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(_.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),o||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,o){z.doc.translate.x=e,z.doc.translate.tx=e*N+"px",z.doc.css(_.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),o||z.notifyScrollEvent(z.win[0])}):(this.setScrollTop=function(e,o){z.doc.translate.y=e,z.doc.translate.ty=-1*e+"px",z.doc.css(_.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),o||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(e,o){z.doc.translate.x=e,z.doc.translate.tx=e*N+"px",z.doc.css(_.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),o||z.notifyScrollEvent(z.win[0])})}else this.getScrollTop=function(){return z.docscroll.scrollTop()},this.setScrollTop=function(e){z.docscroll.scrollTop(e)},this.getScrollLeft=function(){return z.hasreversehr?z.detected.ismozilla?z.page.maxw-Math.abs(z.docscroll.scrollLeft()):z.page.maxw-z.docscroll.scrollLeft():z.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(z)return z.hasreversehr&&(e=z.detected.ismozilla?-(z.page.maxw-e):z.page.maxw-e),z.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var R={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||l.documentElement.scrollTop,left:a.pageXOffset||l.documentElement.scrollLeft}},this.getOffset=function(){if(z.isfixed){var e=z.win.offset(),o=z.getDocumentScrollOffset();return e.top-=o.top,e.left-=o.left,e}var t=z.win.offset();if(!z.viewport)return t;var r=z.viewport.offset();return{top:t.top-r.top,left:t.left-r.left}},this.updateScrollBar=function(e){var o,t;if(z.ishwscroll)z.rail.css({height:z.win.innerHeight()-(E.railpadding.top+E.railpadding.bottom)}),z.railh&&z.railh.css({width:z.win.innerWidth()-(E.railpadding.left+E.railpadding.right)});else{var r=z.getOffset();if((o={top:r.top,left:r.left-(E.railpadding.left+E.railpadding.right)}).top+=b(z.win,"border-top-width",!0),o.left+=z.rail.align?z.win.outerWidth()-b(z.win,"border-right-width")-z.rail.width:b(z.win,"border-left-width"),(t=E.railoffset)&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left)),z.railslocked||z.rail.css({top:o.top,left:o.left,height:(e?e.h:z.win.innerHeight())-(E.railpadding.top+E.railpadding.bottom)}),z.zoom&&z.zoom.css({top:o.top+1,left:1==z.rail.align?o.left-20:o.left+z.rail.width+4}),z.railh&&!z.railslocked){o={top:r.top,left:r.left},(t=E.railhoffset)&&(t.top&&(o.top+=t.top),t.left&&(o.left+=t.left));var i=z.railh.align?o.top+b(z.win,"border-top-width",!0)+z.win.innerHeight()-z.railh.height:o.top+b(z.win,"border-top-width",!0),n=o.left+b(z.win,"border-left-width");z.railh.css({top:i-(E.railpadding.top+E.railpadding.bottom),left:n,width:z.railh.width})}}},this.doRailClick=function(e,o,t){var r,i,n,s;z.railslocked||(z.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+l.documentElement.scrollLeft,e.pageY=e.clientY+l.documentElement.scrollTop),o?(r=t?z.doScrollLeft:z.doScrollTop,n=t?(e.pageX-z.railh.offset().left-z.cursorwidth/2)*z.scrollratio.x:(e.pageY-z.rail.offset().top-z.cursorheight/2)*z.scrollratio.y,z.unsynched("relativexy"),r(0|n)):(r=t?z.doScrollLeftBy:z.doScrollBy,n=t?z.scroll.x:z.scroll.y,s=t?e.pageX-z.railh.offset().left:e.pageY-z.rail.offset().top,i=t?z.view.w:z.view.h,r(n>=s?i:-i)))},z.newscrolly=z.newscrollx=0,z.hasanimationframe="requestAnimationFrame"in a,z.hascancelanimationframe="cancelAnimationFrame"in a,z.hasborderbox=!1,this.init=function(){if(z.saved.css=[],_.isoperamini)return!0;if(_.isandroid&&!("hidden"in l))return!0;E.emulatetouch=E.emulatetouch||E.touchbehavior,z.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(l.body)["box-sizing"];var e={"overflow-y":"hidden"};if((_.isie11||_.isie10)&&(e["-ms-overflow-style"]="none"),z.ishwscroll&&(this.doc.css(_.transitionstyle,_.prefixstyle+"transform 0ms ease-out"),_.transitionend&&z.bind(z.doc,_.transitionend,z.onScrollTransitionEnd,!1)),z.zindex="auto",z.ispage||"auto"!=E.zindex?z.zindex=E.zindex:z.zindex=function(){var e=z.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var o=e.css("zIndex");if(!isNaN(o)&&0!==o)return parseInt(o);e=e.parent()}return!1}()||"auto",!z.ispage&&"auto"!=z.zindex&&z.zindex>n&&(n=z.zindex),z.isie&&0===z.zindex&&"auto"==E.zindex&&(z.zindex="auto"),!z.ispage||!_.isieold){var i=z.docscroll;z.ispage&&(i=z.haswrapper?z.win:z.doc),z.css(i,e),z.ispage&&(_.isie11||_.isie)&&z.css(s("html"),e),!_.isios||z.ispage||z.haswrapper||z.css(T,{"-webkit-overflow-scrolling":"touch"});var d=s(l.createElement("div"));d.css({position:"relative",top:0,float:"right",width:E.cursorwidth,height:0,"background-color":E.cursorcolor,border:E.cursorborder,"background-clip":"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),d.addClass("nicescroll-cursors"),z.cursor=d;var u=s(l.createElement("div"));u.attr("id",z.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,f=["left","right","top","bottom"];for(var g in f)p=f[g],(h=E.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(E.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:z.zindex,background:E.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==E.railalign?0:1,z.rail=u,z.rail.drag=!1;var v,w=!1;if(!E.boxzoom||z.ispage||_.isieold||(w=l.createElement("div"),z.bind(w,"click",z.doZoom),z.bind(w,"mouseenter",(function(){z.zoom.css("opacity",E.cursoropacitymax)})),z.bind(w,"mouseleave",(function(){z.zoom.css("opacity",E.cursoropacitymin)})),z.zoom=s(w),z.zoom.css({cursor:"pointer",zIndex:z.zindex,backgroundImage:"url("+E.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),E.dblclickzoom&&z.bind(z.win,"dblclick",z.doZoom),_.cantouch&&E.gesturezoom&&(z.ongesturezoom=function(e){return e.scale>1.5&&z.doZoomIn(e),e.scale<.8&&z.doZoomOut(e),z.cancelEvent(e)},z.bind(z.win,"gestureend",z.ongesturezoom))),z.railh=!1,E.horizrailenabled&&(z.css(i,{overflowX:"hidden"}),(d=s(l.createElement("div"))).css({position:"absolute",top:0,height:E.cursorwidth,width:0,backgroundColor:E.cursorcolor,border:E.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":E.cursorborderradius,"-moz-border-radius":E.cursorborderradius,"border-radius":E.cursorborderradius}),_.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),z.cursorh=d,(v=s(l.createElement("div"))).attr("id",z.id+"-hr"),v.addClass("nicescroll-rails nicescroll-rails-hr"),v.height=Math.max(parseFloat(E.cursorwidth),d.outerHeight()),v.css({height:v.height+"px",zIndex:z.zindex,background:E.background}),v.append(d),v.visibility=!0,v.scrollable=!0,v.align="top"==E.railvalign?0:1,z.railh=v,z.railh.drag=!1),z.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),z.body.append(u),z.railh&&(v.css({position:"fixed",left:0,width:"100%"}),v.css(v.align?{bottom:0}:{top:0}),z.body.append(v));else{if(z.ishwscroll){"static"==z.win.css("position")&&z.css(z.win,{position:"relative"});var b="HTML"==z.win[0].nodeName?z.body:z.win;s(b).scrollTop(0).scrollLeft(0),z.zoom&&(z.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),b.append(z.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),b.append(u),v&&(v.css({position:"absolute",left:0,bottom:0}),v.css(v.align?{bottom:0}:{top:0}),b.append(v))}else{z.isfixed="fixed"==z.win.css("position");var x=z.isfixed?"fixed":"absolute";z.isfixed||(z.viewport=z.getViewport(z.win[0])),z.viewport&&(z.body=z.viewport,/fixed|absolute/.test(z.viewport.css("position"))||z.css(z.viewport,{position:"relative"})),u.css({position:x}),z.zoom&&z.zoom.css({position:x}),z.updateScrollBar(),z.body.append(u),z.zoom&&z.body.append(z.zoom),z.railh&&(v.css({position:x}),z.body.append(v))}_.isios&&z.css(z.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),E.disableoutline&&(_.isie&&z.win.attr("hideFocus","true"),_.iswebkit&&z.win.css("outline","none"))}if(!1===E.autohidemode?(z.autohidedom=!1,z.rail.css({opacity:E.cursoropacitymax}),z.railh&&z.railh.css({opacity:E.cursoropacitymax})):!0===E.autohidemode||"leave"===E.autohidemode?(z.autohidedom=s().add(z.rail),_.isie8&&(z.autohidedom=z.autohidedom.add(z.cursor)),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh)),z.railh&&_.isie8&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"scroll"==E.autohidemode?(z.autohidedom=s().add(z.rail),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh))):"cursor"==E.autohidemode?(z.autohidedom=s().add(z.cursor),z.railh&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"hidden"==E.autohidemode&&(z.autohidedom=!1,z.hide(),z.railslocked=!1),_.cantouch||z.istouchcapable||E.emulatetouch||_.hasmstouch){z.scrollmom=new y(z),z.ontouchstart=function(e){if(z.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(z.hasmoving=!1,z.scrollmom.timer&&(z.triggerScrollEnd(),z.scrollmom.stop()),!z.railslocked){var o=z.getTarget(e);if(o&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return z.stopPropagation(e);var t="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),z.forcescreen){var r=e;(e={original:e.original?e.original:e}).clientX=r.screenX,e.clientY=r.screenY}if(z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,st:z.getScrollTop(),sl:z.getScrollLeft(),pt:2,dl:!1,tg:o},z.ispage||!E.directionlockdeadzone)z.rail.drag.dl="f";else{var i={w:c.width(),h:c.height()},n=z.getContentSize(),l=n.h-i.h,a=n.w-i.w;z.rail.scrollable&&!z.railh.scrollable?z.rail.drag.ck=l>0&&"v":!z.rail.scrollable&&z.railh.scrollable?z.rail.drag.ck=a>0&&"h":z.rail.drag.ck=!1}if(E.emulatetouch&&z.isiframe&&_.isie){var d=z.win.position();z.rail.drag.x+=d.left,z.rail.drag.y+=d.top}if(z.hasmoving=!1,z.lastmouseup=!1,z.scrollmom.reset(e.clientX,e.clientY),o&&t){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(o.nodeName))return _.hasmousecapture&&o.setCapture(),E.emulatetouch?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){if(z.hasmoving)return!1;o._onclick.call(this,e)}),z.cancelEvent(e)):z.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(s(o).attr("type"))&&(z.preventclick={tg:o,click:!1})}}},z.ontouchend=function(e){if(!z.rail.drag)return!0;if(2==z.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;z.rail.drag=!1;var o="mouseup"===e.type;if(z.hasmoving&&(z.scrollmom.doMomentum(),z.lastmouseup=!0,z.hideCursor(),_.hasmousecapture&&l.releaseCapture(),o))return z.cancelEvent(e)}else if(1==z.rail.drag.pt)return z.onmouseup(e)};var S=E.emulatetouch&&z.isiframe&&!_.hasmousecapture,k=.3*E.directionlockdeadzone|0;z.ontouchmove=function(e,o){if(!z.rail.drag)return!0;if(e.targetTouches&&E.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==z.rail.drag.pt){var t,r;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),r=t=0,S&&!o){var i=z.win.position();r=-i.left,t=-i.top}var n=e.clientY+t,s=n-z.rail.drag.y,a=e.clientX+r,c=a-z.rail.drag.x,d=z.rail.drag.st-s;if(z.ishwscroll&&E.bouncescroll)d<0?d=Math.round(d/2):d>z.page.maxh&&(d=z.page.maxh+Math.round((d-z.page.maxh)/2));else if(d<0?(d=0,n=0):d>z.page.maxh&&(d=z.page.maxh,n=0),0===n&&!z.hasmoving)return z.ispage||(z.rail.drag=!1),!0;var u=z.getScrollLeft();if(z.railh&&z.railh.scrollable&&(u=z.isrtlmode?c-z.rail.drag.sl:z.rail.drag.sl-c,z.ishwscroll&&E.bouncescroll?u<0?u=Math.round(u/2):u>z.page.maxw&&(u=z.page.maxw+Math.round((u-z.page.maxw)/2)):(u<0&&(u=0,a=0),u>z.page.maxw&&(u=z.page.maxw,a=0))),!z.hasmoving){if(z.rail.drag.y===e.clientY&&z.rail.drag.x===e.clientX)return z.cancelEvent(e);var h=Math.abs(s),p=Math.abs(c),m=E.directionlockdeadzone;if(z.rail.drag.ck?"v"==z.rail.drag.ck?p>m&&h<=k?z.rail.drag=!1:h>m&&(z.rail.drag.dl="v"):"h"==z.rail.drag.ck&&(h>m&&p<=k?z.rail.drag=!1:p>m&&(z.rail.drag.dl="h")):h>m&&p>m?z.rail.drag.dl="f":h>m?z.rail.drag.dl=p>k?"f":"v":p>m&&(z.rail.drag.dl=h>k?"f":"h"),!z.rail.drag.dl)return z.cancelEvent(e);z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0}return z.preventclick&&!z.preventclick.click&&(z.preventclick.click=z.preventclick.tg.onclick||!1,z.preventclick.tg.onclick=z.onpreventclick),z.rail.drag.dl&&("v"==z.rail.drag.dl?u=z.rail.drag.sl:"h"==z.rail.drag.dl&&(d=z.rail.drag.st)),z.synched("touchmove",(function(){z.rail.drag&&2==z.rail.drag.pt&&(z.prepareTransition&&z.resetTransition(),z.rail.scrollable&&z.setScrollTop(d),z.scrollmom.update(a,n),z.railh&&z.railh.scrollable?(z.setScrollLeft(u),z.showCursor(d,u)):z.showCursor(d),_.isie10&&l.selection.clear())})),z.cancelEvent(e)}return 1==z.rail.drag.pt?z.onmousemove(e):void 0},z.ontouchstartCursor=function(e,o){if(!z.rail.drag||3==z.rail.drag.pt){if(z.locked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:z.scroll.x,sy:z.scroll.y,pt:3,hr:!!o};var t=z.getTarget(e);return!z.ispage&&_.hasmousecapture&&t.setCapture(),z.isiframe&&!_.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.cancelEvent(e)}},z.ontouchendCursor=function(e){if(z.rail.drag){if(_.hasmousecapture&&l.releaseCapture(),z.isiframe&&!_.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),3!=z.rail.drag.pt)return;return z.rail.drag=!1,z.cancelEvent(e)}},z.ontouchmoveCursor=function(e){if(z.rail.drag){if(3!=z.rail.drag.pt)return;if(z.cursorfreezed=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.touches[0].clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var o=z.scrollvaluemaxw;z.scroll.x>o&&(z.scroll.x=o)}else{z.scroll.y=z.rail.drag.sy+(e.touches[0].clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var t=z.scrollvaluemax;z.scroll.y>t&&(z.scroll.y=t)}return z.synched("touchmove",(function(){z.rail.drag&&3==z.rail.drag.pt&&(z.showCursor(),z.rail.drag.hr?z.doScrollLeft(Math.round(z.scroll.x*z.scrollratio.x),E.cursordragspeed):z.doScrollTop(Math.round(z.scroll.y*z.scrollratio.y),E.cursordragspeed))})),z.cancelEvent(e)}}}if(z.onmousedown=function(e,o){if(!z.rail.drag||1==z.rail.drag.pt){if(z.railslocked)return z.cancelEvent(e);z.cancelScroll(),z.rail.drag={x:e.clientX,y:e.clientY,sx:z.scroll.x,sy:z.scroll.y,pt:1,hr:o||!1};var t=z.getTarget(e);return _.hasmousecapture&&t.setCapture(),z.isiframe&&!_.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.hasmoving=!1,z.cancelEvent(e)}},z.onmouseup=function(e){if(z.rail.drag)return 1!=z.rail.drag.pt||(_.hasmousecapture&&l.releaseCapture(),z.isiframe&&!_.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),z.rail.drag=!1,z.cursorfreezed=!1,z.hasmoving&&z.triggerScrollEnd(),z.cancelEvent(e))},z.onmousemove=function(e){if(z.rail.drag){if(1!==z.rail.drag.pt)return;if(_.ischrome&&0===e.which)return z.onmouseup(e);if(z.cursorfreezed=!0,z.hasmoving||z.triggerScrollStart(e.clientX,e.clientY,0,0,0),z.hasmoving=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(e.clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var o=z.scrollvaluemaxw;z.scroll.x>o&&(z.scroll.x=o)}else{z.scroll.y=z.rail.drag.sy+(e.clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var t=z.scrollvaluemax;z.scroll.y>t&&(z.scroll.y=t)}return z.synched("mousemove",(function(){z.cursorfreezed&&(z.showCursor(),z.rail.drag.hr?z.scrollLeft(Math.round(z.scroll.x*z.scrollratio.x)):z.scrollTop(Math.round(z.scroll.y*z.scrollratio.y)))})),z.cancelEvent(e)}z.checkarea=0},_.cantouch||E.emulatetouch)z.onpreventclick=function(e){if(z.preventclick)return z.preventclick.tg.onclick=z.preventclick.click,z.preventclick=!1,z.cancelEvent(e)},z.onclick=!_.isios&&function(e){return!z.lastmouseup||(z.lastmouseup=!1,z.cancelEvent(e))},E.grabcursorenabled&&_.cursorgrabvalue&&(z.css(z.ispage?z.doc:z.win,{cursor:_.cursorgrabvalue}),z.css(z.rail,{cursor:_.cursorgrabvalue}));else{var L=function(e){if(z.selectiondrag){if(e){var o=z.win.outerHeight(),t=e.pageY-z.selectiondrag.top;t>0&&t<o&&(t=0),t>=o&&(t-=o),z.selectiondrag.df=t}if(0!==z.selectiondrag.df){var r=-2*z.selectiondrag.df/6|0;z.doScrollBy(r),z.debounced("doselectionscroll",(function(){L()}),50)}}};z.hasTextSelected="getSelection"in l?function(){return l.getSelection().rangeCount>0}:"selection"in l?function(){return"None"!=l.selection.type}:function(){return!1},z.onselectionstart=function(e){z.ispage||(z.selectiondrag=z.win.offset())},z.onselectionend=function(e){z.selectiondrag=!1},z.onselectiondrag=function(e){z.selectiondrag&&z.hasTextSelected()&&z.debounced("selectionscroll",(function(){L(e)}),250)}}if(_.hasw3ctouch?(z.css(z.ispage?s("html"):z.win,{"touch-action":"none"}),z.css(z.rail,{"touch-action":"none"}),z.css(z.cursor,{"touch-action":"none"}),z.bind(z.win,"pointerdown",z.ontouchstart),z.bind(l,"pointerup",z.ontouchend),z.delegate(l,"pointermove",z.ontouchmove)):_.hasmstouch?(z.css(z.ispage?s("html"):z.win,{"-ms-touch-action":"none"}),z.css(z.rail,{"-ms-touch-action":"none"}),z.css(z.cursor,{"-ms-touch-action":"none"}),z.bind(z.win,"MSPointerDown",z.ontouchstart),z.bind(l,"MSPointerUp",z.ontouchend),z.delegate(l,"MSPointerMove",z.ontouchmove),z.bind(z.cursor,"MSGestureHold",(function(e){e.preventDefault()})),z.bind(z.cursor,"contextmenu",(function(e){e.preventDefault()}))):_.cantouch&&(z.bind(z.win,"touchstart",z.ontouchstart,!1,!0),z.bind(l,"touchend",z.ontouchend,!1,!0),z.bind(l,"touchcancel",z.ontouchend,!1,!0),z.delegate(l,"touchmove",z.ontouchmove,!1,!0)),E.emulatetouch&&(z.bind(z.win,"mousedown",z.ontouchstart,!1,!0),z.bind(l,"mouseup",z.ontouchend,!1,!0),z.bind(l,"mousemove",z.ontouchmove,!1,!0)),(E.cursordragontouch||!_.cantouch&&!E.emulatetouch)&&(z.rail.css({cursor:"default"}),z.railh&&z.railh.css({cursor:"default"}),z.jqbind(z.rail,"mouseenter",(function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.rail,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})),E.sensitiverail&&(z.bind(z.rail,"click",(function(e){z.doRailClick(e,!1,!1)})),z.bind(z.rail,"dblclick",(function(e){z.doRailClick(e,!0,!1)})),z.bind(z.cursor,"click",(function(e){z.cancelEvent(e)})),z.bind(z.cursor,"dblclick",(function(e){z.cancelEvent(e)}))),z.railh&&(z.jqbind(z.railh,"mouseenter",(function(){if(!z.ispage&&!z.win.is(":visible"))return!1;z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.railh,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})),E.sensitiverail&&(z.bind(z.railh,"click",(function(e){z.doRailClick(e,!1,!0)})),z.bind(z.railh,"dblclick",(function(e){z.doRailClick(e,!0,!0)})),z.bind(z.cursorh,"click",(function(e){z.cancelEvent(e)})),z.bind(z.cursorh,"dblclick",(function(e){z.cancelEvent(e)}))))),E.cursordragontouch&&(this.istouchcapable||_.cantouch)&&(z.bind(z.cursor,"touchstart",z.ontouchstartCursor),z.bind(z.cursor,"touchmove",z.ontouchmoveCursor),z.bind(z.cursor,"touchend",z.ontouchendCursor),z.cursorh&&z.bind(z.cursorh,"touchstart",(function(e){z.ontouchstartCursor(e,!0)})),z.cursorh&&z.bind(z.cursorh,"touchmove",z.ontouchmoveCursor),z.cursorh&&z.bind(z.cursorh,"touchend",z.ontouchendCursor)),E.emulatetouch||_.isandroid||_.isios?(z.bind(_.hasmousecapture?z.win:l,"mouseup",z.ontouchend),z.onclick&&z.bind(l,"click",z.onclick),E.cursordragontouch?(z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.cursorh&&z.bind(z.cursorh,"mousedown",(function(e){z.onmousedown(e,!0)})),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onmouseup)):(z.bind(z.rail,"mousedown",(function(e){e.preventDefault()})),z.railh&&z.bind(z.railh,"mousedown",(function(e){e.preventDefault()})))):(z.bind(_.hasmousecapture?z.win:l,"mouseup",z.onmouseup),z.bind(l,"mousemove",z.onmousemove),z.onclick&&z.bind(l,"click",z.onclick),z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.railh&&(z.bind(z.cursorh,"mousedown",(function(e){z.onmousedown(e,!0)})),z.bind(z.cursorh,"mouseup",z.onmouseup)),!z.ispage&&E.enablescrollonselection&&(z.bind(z.win[0],"mousedown",z.onselectionstart),z.bind(l,"mouseup",z.onselectionend),z.bind(z.cursor,"mouseup",z.onselectionend),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onselectionend),z.bind(l,"mousemove",z.onselectiondrag)),z.zoom&&(z.jqbind(z.zoom,"mouseenter",(function(){z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0})),z.jqbind(z.zoom,"mouseleave",(function(){z.rail.active=!1,z.rail.drag||z.hideCursor()})))),E.enablemousewheel&&(z.isiframe||z.mousewheel(_.isie&&z.ispage?l:z.win,z.onmousewheel),z.mousewheel(z.rail,z.onmousewheel),z.railh&&z.mousewheel(z.railh,z.onmousewheelhr)),z.ispage||_.cantouch||/HTML|^BODY/.test(z.win[0].nodeName)||(z.win.attr("tabindex")||z.win.attr({tabindex:++r}),z.bind(z.win,"focus",(function(e){o=z.getTarget(e).id||z.getTarget(e)||!1,z.hasfocus=!0,z.canshowonmouseevent&&z.noticeCursor()})),z.bind(z.win,"blur",(function(e){o=!1,z.hasfocus=!1})),z.bind(z.win,"mouseenter",(function(e){t=z.getTarget(e).id||z.getTarget(e)||!1,z.hasmousefocus=!0,z.canshowonmouseevent&&z.noticeCursor()})),z.bind(z.win,"mouseleave",(function(e){t=!1,z.hasmousefocus=!1,z.rail.drag||z.hideCursor()}))),z.onkeypress=function(e){if(z.railslocked&&0===z.page.maxh)return!0;e=e||a.event;var r=z.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp))return!0;if(s(r).attr("contenteditable"))return!0;if(z.hasfocus||z.hasmousefocus&&!o||z.ispage&&!o&&!t){var i=e.keyCode;if(z.railslocked&&27!=i)return z.cancelEvent(e);var n=e.ctrlKey||!1,l=e.shiftKey||!1,c=!1;switch(i){case 38:case 63233:z.doScrollBy(72),c=!0;break;case 40:case 63235:z.doScrollBy(-72),c=!0;break;case 37:case 63232:z.railh&&(n?z.doScrollLeft(0):z.doScrollLeftBy(72),c=!0);break;case 39:case 63234:z.railh&&(n?z.doScrollLeft(z.page.maxw):z.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:z.doScrollBy(z.view.h),c=!0;break;case 34:case 63277:z.doScrollBy(-z.view.h),c=!0;break;case 36:case 63273:z.railh&&n?z.doScrollPos(0,0):z.doScrollTo(0),c=!0;break;case 35:case 63275:z.railh&&n?z.doScrollPos(z.page.maxw,z.page.maxh):z.doScrollTo(z.page.maxh),c=!0;break;case 32:E.spacebarenabled&&(l?z.doScrollBy(z.view.h):z.doScrollBy(-z.view.h),c=!0);break;case 27:z.zoomactive&&(z.doZoom(),c=!0)}if(c)return z.cancelEvent(e)}},E.enablekeyboard&&z.bind(l,_.isopera&&!_.isopera12?"keypress":"keydown",z.onkeypress),z.bind(l,"keydown",(function(e){e.ctrlKey&&(z.wheelprevented=!0)})),z.bind(l,"keyup",(function(e){e.ctrlKey||(z.wheelprevented=!1)})),z.bind(a,"blur",(function(e){z.wheelprevented=!1})),z.bind(a,"resize",z.onscreenresize),z.bind(a,"orientationchange",z.onscreenresize),z.bind(a,"load",z.lazyResize),_.ischrome&&!z.ispage&&!z.haswrapper){var C=z.win.attr("style"),M=parseFloat(z.win.css("width"))+1;z.win.css("width",M),z.synched("chromefix",(function(){z.win.attr("style",C)}))}if(z.onAttributeChange=function(e){z.lazyResize(z.isieold?250:30)},E.enableobserver&&(z.isie11||!1===m||(z.observerbody=new m((function(e){if(e.forEach((function(e){if("attributes"==e.type)return T.hasClass("modal-open")&&T.hasClass("modal-dialog")&&!s.contains(s(".modal-dialog")[0],z.doc[0])?z.hide():z.show()})),z.me.clientWidth!=z.page.width||z.me.clientHeight!=z.page.height)return z.lazyResize(30)})),z.observerbody.observe(l.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!z.ispage&&!z.haswrapper)){var P=z.win[0];!1!==m?(z.observer=new m((function(e){e.forEach(z.onAttributeChange)})),z.observer.observe(P,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),z.observerremover=new m((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var o in e.removedNodes)if(z&&e.removedNodes[o]===P)return z.remove()}))})),z.observerremover.observe(P.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(z.bind(P,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",z.onAttributeChange),_.isie9&&P.attachEvent("onpropertychange",z.onAttributeChange),z.bind(P,"DOMNodeRemoved",(function(e){e.target===P&&z.remove()})))}!z.ispage&&E.boxzoom&&z.bind(a,"resize",z.resizeZoom),z.istextarea&&(z.bind(z.win,"keydown",z.lazyResize),z.bind(z.win,"mouseup",z.lazyResize)),z.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var N=function(){var o;z.iframexd=!1;try{(o="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){z.iframexd=!0,o=!1}if(z.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(z.forcescreen=!0,z.isiframe&&(z.iframe={doc:s(o),html:z.doc.contents().find("html")[0],body:z.doc.contents().find("body")[0]},z.getContentSize=function(){return{w:Math.max(z.iframe.html.scrollWidth,z.iframe.body.scrollWidth),h:Math.max(z.iframe.html.scrollHeight,z.iframe.body.scrollHeight)}},z.docscroll=s(z.iframe.body)),!_.isios&&E.iframeautoresize&&!z.isiframe){z.win.scrollTop(0),z.doc.height("");var t=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight);z.doc.height(t)}z.lazyResize(30),z.css(s(z.iframe.body),e),_.isios&&z.haswrapper&&z.css(s(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?z.bind(this.contentWindow,"scroll",z.onscroll):z.bind(o,"scroll",z.onscroll),E.enablemousewheel&&z.mousewheel(o,z.onmousewheel),E.enablekeyboard&&z.bind(o,_.isopera?"keypress":"keydown",z.onkeypress),_.cantouch?(z.bind(o,"touchstart",z.ontouchstart),z.bind(o,"touchmove",z.ontouchmove)):E.emulatetouch&&(z.bind(o,"mousedown",z.ontouchstart),z.bind(o,"mousemove",(function(e){return z.ontouchmove(e,!0)})),E.grabcursorenabled&&_.cursorgrabvalue&&z.css(s(o.body),{cursor:_.cursorgrabvalue})),z.bind(o,"mouseup",z.ontouchend),z.zoom&&(E.dblclickzoom&&z.bind(o,"dblclick",z.doZoom),z.ongesturezoom&&z.bind(o,"gestureend",z.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){N.call(z.doc[0],!1)}),500),z.bind(this.doc,"load",N)}},this.showCursor=function(e,o){if(z.cursortimeout&&(clearTimeout(z.cursortimeout),z.cursortimeout=0),z.rail){if(z.autohidedom&&(z.autohidedom.stop().css({opacity:E.cursoropacitymax}),z.cursoractive=!0),z.rail.drag&&1==z.rail.drag.pt||(void 0!==e&&!1!==e&&(z.scroll.y=e/z.scrollratio.y|0),void 0!==o&&(z.scroll.x=o/z.scrollratio.x|0)),z.cursor.css({height:z.cursorheight,top:z.scroll.y}),z.cursorh){var t=z.hasreversehr?z.scrollvaluemaxw-z.scroll.x:z.scroll.x;z.cursorh.css({width:z.cursorwidth,left:!z.rail.align&&z.rail.visibility?t+z.rail.width:t}),z.cursoractive=!0}z.zoom&&z.zoom.stop().css({opacity:E.cursoropacitymax})}},this.hideCursor=function(e){z.cursortimeout||z.rail&&z.autohidedom&&(z.hasmousefocus&&"leave"===E.autohidemode||(z.cursortimeout=setTimeout((function(){z.rail.active&&z.showonmouseevent||(z.autohidedom.stop().animate({opacity:E.cursoropacitymin}),z.zoom&&z.zoom.stop().animate({opacity:E.cursoropacitymin}),z.cursoractive=!1),z.cursortimeout=0}),e||E.hidecursordelay)))},this.noticeCursor=function(e,o,t){z.showCursor(o,t),z.rail.active||z.hideCursor(e)},this.getContentSize=z.ispage?function(){return{w:Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),h:Math.max(l.body.scrollHeight,l.documentElement.scrollHeight)}}:z.haswrapper?function(){return{w:z.doc[0].offsetWidth,h:z.doc[0].offsetHeight}}:function(){return{w:z.docscroll[0].scrollWidth,h:z.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!z||!z.win)return!1;var t=z.page.maxh,r=z.page.maxw,i=z.view.h,n=z.view.w;if(z.view={w:z.ispage?z.win.width():z.win[0].clientWidth,h:z.ispage?z.win.height():z.win[0].clientHeight},z.page=o||z.getContentSize(),z.page.maxh=Math.max(0,z.page.h-z.view.h),z.page.maxw=Math.max(0,z.page.w-z.view.w),z.page.maxh==t&&z.page.maxw==r&&z.view.w==n&&z.view.h==i){if(z.ispage)return z;var s=z.win.offset();if(z.lastposition){var l=z.lastposition;if(l.top==s.top&&l.left==s.left)return z}z.lastposition=s}return 0===z.page.maxh?(z.hideRail(),z.scrollvaluemax=0,z.scroll.y=0,z.scrollratio.y=0,z.cursorheight=0,z.setScrollTop(0),z.rail&&(z.rail.scrollable=!1)):(z.page.maxh-=E.railpadding.top+E.railpadding.bottom,z.rail.scrollable=!0),0===z.page.maxw?(z.hideRailHr(),z.scrollvaluemaxw=0,z.scroll.x=0,z.scrollratio.x=0,z.cursorwidth=0,z.setScrollLeft(0),z.railh&&(z.railh.scrollable=!1)):(z.page.maxw-=E.railpadding.left+E.railpadding.right,z.railh&&(z.railh.scrollable=E.horizrailenabled)),z.railslocked=z.locked||0===z.page.maxh&&0===z.page.maxw,z.railslocked?(z.ispage||z.updateScrollBar(z.view),!1):(z.hidden||(z.rail.visibility||z.showRail(),z.railh&&!z.railh.visibility&&z.showRailHr()),z.istextarea&&z.win.css("resize")&&"none"!=z.win.css("resize")&&(z.view.h-=20),z.cursorheight=Math.min(z.view.h,Math.round(z.view.h*(z.view.h/z.page.h))),z.cursorheight=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorheight),z.cursorwidth=Math.min(z.view.w,Math.round(z.view.w*(z.view.w/z.page.w))),z.cursorwidth=E.cursorfixedheight?E.cursorfixedheight:Math.max(E.cursorminheight,z.cursorwidth),z.scrollvaluemax=z.view.h-z.cursorheight-(E.railpadding.top+E.railpadding.bottom),z.hasborderbox||(z.scrollvaluemax-=z.cursor[0].offsetHeight-z.cursor[0].clientHeight),z.railh&&(z.railh.width=z.page.maxh>0?z.view.w-z.rail.width:z.view.w,z.scrollvaluemaxw=z.railh.width-z.cursorwidth-(E.railpadding.left+E.railpadding.right)),z.ispage||z.updateScrollBar(z.view),z.scrollratio={x:z.page.maxw/z.scrollvaluemaxw,y:z.page.maxh/z.scrollvaluemax},z.getScrollTop()>z.page.maxh?z.doScrollTop(z.page.maxh):(z.scroll.y=z.getScrollTop()/z.scrollratio.y|0,z.scroll.x=z.getScrollLeft()/z.scrollratio.x|0,z.cursoractive&&z.noticeCursor()),z.scroll.y&&0===z.getScrollTop()&&z.doScrollTo(z.scroll.y*z.scrollratio.y|0),z)},this.resize=z.onResize;var B=0;this.onscreenresize=function(e){clearTimeout(B);var o=!z.ispage&&!z.haswrapper;o&&z.hideRails(),B=setTimeout((function(){z&&(o&&z.showRails(),z.resize()),B=0}),120)},this.lazyResize=function(e){return clearTimeout(B),e=isNaN(e)?240:e,B=setTimeout((function(){z&&z.resize(),B=0}),e),z},this.jqbind=function(e,o,t){z.events.push({e:e,n:o,f:t,q:!0}),s(e).on(o,t)},this.mousewheel=function(e,o,t){var r="jquery"in e?e[0]:e;if("onwheel"in l.createElement("div"))z._bind(r,"wheel",o,t||!1);else{var i=void 0!==l.onmousewheel?"mousewheel":"DOMMouseScroll";x(r,i,o,t||!1),"DOMMouseScroll"==i&&x(r,"MozMousePixelScroll",o,t||!1)}};var I=!1;if(_.haseventlistener){try{var H=Object.defineProperty({},"passive",{get:function(){I=!0}});a.addEventListener("test",null,H)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=l.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,o,t){this.attachEvent("on"+e,o)},a.constructor.prototype.removeEventListener=l.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,o,t){this.detachEvent("on"+e,o)},this.cancelEvent=function(e){return(e=e||a.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||a.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,o,t,r,i){var n=d[o]||!1;n||(n={a:[],l:[],f:function(e){for(var o=n.l,t=!1,r=o.length-1;r>=0;r--)if(!1===(t=o[r].call(e.target,e)))return!1;return t}},z.bind(e,o,n.f,r,i),d[o]=n),z.ispage?(n.a=[z.id].concat(n.a),n.l=[t].concat(n.l)):(n.a.push(z.id),n.l.push(t))},this.undelegate=function(e,o,t,r,i){var n=d[o]||!1;if(n&&n.l)for(var s=0,l=n.l.length;s<l;s++)n.a[s]===z.id&&(n.a.splice(s),n.l.splice(s),0===n.a.length&&(z._unbind(e,o,n.l.f),d[o]=null))},this.bind=function(e,o,t,r,i){var n="jquery"in e?e[0]:e;z._bind(n,o,t,r||!1,i||!1)},this._bind=function(e,o,t,r,i){z.events.push({e:e,n:o,f:t,b:r,q:!1}),I&&i?e.addEventListener(o,t,{passive:!1,capture:r}):e.addEventListener(o,t,r||!1)},this._unbind=function(e,o,t,r){d[o]?z.undelegate(e,o,t,r):e.removeEventListener(o,t,r)},this.unbindAll=function(){for(var e=0;e<z.events.length;e++){var o=z.events[e];o.q?o.e.unbind(o.n,o.f):z._unbind(o.e,o.n,o.f,o.b)}},this.showRails=function(){return z.showRail().showRailHr()},this.showRail=function(){return 0===z.page.maxh||!z.ispage&&"none"==z.win.css("display")||(z.rail.visibility=!0,z.rail.css("display","block")),z},this.showRailHr=function(){return z.railh&&(0===z.page.maxw||!z.ispage&&"none"==z.win.css("display")||(z.railh.visibility=!0,z.railh.css("display","block"))),z},this.hideRails=function(){return z.hideRail().hideRailHr()},this.hideRail=function(){return z.rail.visibility=!1,z.rail.css("display","none"),z},this.hideRailHr=function(){return z.railh&&(z.railh.visibility=!1,z.railh.css("display","none")),z},this.show=function(){return z.hidden=!1,z.railslocked=!1,z.showRails()},this.hide=function(){return z.hidden=!0,z.railslocked=!0,z.hideRails()},this.toggle=function(){return z.hidden?z.show():z.hide()},this.remove=function(){for(var e in z.stop(),z.cursortimeout&&clearTimeout(z.cursortimeout),z.delaylist)z.delaylist[e]&&h(z.delaylist[e].h);z.doZoomOut(),z.unbindAll(),_.isie9&&z.win[0].detachEvent("onpropertychange",z.onAttributeChange),!1!==z.observer&&z.observer.disconnect(),!1!==z.observerremover&&z.observerremover.disconnect(),!1!==z.observerbody&&z.observerbody.disconnect(),z.events=null,z.cursor&&z.cursor.remove(),z.cursorh&&z.cursorh.remove(),z.rail&&z.rail.remove(),z.railh&&z.railh.remove(),z.zoom&&z.zoom.remove();for(var o=0;o<z.saved.css.length;o++){var t=z.saved.css[o];t[0].css(t[1],void 0===t[2]?"":t[2])}z.saved=!1,z.me.data("__nicescroll","");var r=s.nicescroll;for(var i in r.each((function(e){if(this&&this.id===z.id){delete r[e];for(var o=++e;o<r.length;o++,e++)r[e]=r[o];--r.length&&delete r[r.length]}})),z)z[i]=null,delete z[i];z=null},this.scrollstart=function(e){return this.onscrollstart=e,z},this.scrollend=function(e){return this.onscrollend=e,z},this.scrollcancel=function(e){return this.onscrollcancel=e,z},this.zoomin=function(e){return this.onzoomin=e,z},this.zoomout=function(e){return this.onzoomout=e,z},this.isScrollable=function(e){var o=e.target?e.target:e;if("OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&o!==this.me[0]&&!/^BODY|HTML/.test(o.nodeName);){var t=s(o),r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r))return o.clientHeight!=o.scrollHeight;o=!!o.parentNode&&o.parentNode}return!1},this.getViewport=function(e){for(var o=!(!e||!e.parentNode)&&e.parentNode;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=s(o);if(/fixed|absolute/.test(t.css("position")))return t;var r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r)&&o.clientHeight!=o.scrollHeight)return t;if(t.getNiceScroll().length>0)return t;o=!!o.parentNode&&o.parentNode}return!1},this.triggerScrollStart=function(e,o,t,r,i){if(z.onscrollstart){var n={type:"scrollstart",current:{x:e,y:o},request:{x:t,y:r},end:{x:z.newscrollx,y:z.newscrolly},speed:i};z.onscrollstart.call(z,n)}},this.triggerScrollEnd=function(){if(z.onscrollend){var e=z.getScrollLeft(),o=z.getScrollTop(),t={type:"scrollend",current:{x:e,y:o},end:{x:e,y:o}};z.onscrollend.call(z,t)}};var O=0,Y=0,D=0,X=1,A=!1;if(this.onmousewheel=function(e){if(z.wheelprevented||z.locked)return!1;if(z.railslocked)return z.debounced("checkunlock",z.resize,250),!1;if(z.rail.drag)return z.cancelEvent(e);if("auto"===E.oneaxismousemode&&0!==e.deltaX&&(E.oneaxismousemode=!1),E.oneaxismousemode&&0===e.deltaX&&!z.rail.scrollable)return!z.railh||!z.railh.scrollable||z.onmousewheelhr(e);var o=f(),t=!1;if(E.preservenativescrolling&&z.checkarea+600<o&&(z.nativescrollingarea=z.isScrollable(e),t=!0),z.checkarea=o,z.nativescrollingarea)return!0;var r=k(e,!1,t);return r&&(z.checkarea=0),r},this.onmousewheelhr=function(e){if(!z.wheelprevented){if(z.railslocked||!z.railh.scrollable)return!0;if(z.rail.drag)return z.cancelEvent(e);var o=f(),t=!1;return E.preservenativescrolling&&z.checkarea+600<o&&(z.nativescrollingarea=z.isScrollable(e),t=!0),z.checkarea=o,!!z.nativescrollingarea||(z.railslocked?z.cancelEvent(e):k(e,!0,t))}},this.stop=function(){return z.cancelScroll(),z.scrollmon&&z.scrollmon.stop(),z.cursorfreezed=!1,z.scroll.y=Math.round(z.getScrollTop()*(1/z.scrollratio.y)),z.noticeCursor(),z},this.getTransitionSpeed=function(e){return 80+e/72*E.scrollspeed|0},E.smoothscroll)if(z.ishwscroll&&_.hastransition&&E.usetransition&&E.smoothscroll){var j="";this.resetTransition=function(){j="",z.doc.css(_.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,o){var t=o?e:z.getTransitionSpeed(e),r=t+"ms";return j!==r&&(j=r,z.doc.css(_.prefixstyle+"transition-duration",r)),t},this.doScrollLeft=function(e,o){var t=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(t,e,o)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var o=function(){e.running&&u(o),z.showCursor(z.getScrollTop(),z.getScrollLeft()),z.notifyScrollEvent(z.win[0])};u(o)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,o,t){var r=z.getScrollTop(),i=z.getScrollLeft();if(((z.newscrolly-r)*(o-r)<0||(z.newscrollx-i)*(e-i)<0)&&z.cancelScroll(),E.bouncescroll?(o<0?o=o/2|0:o>z.page.maxh&&(o=z.page.maxh+(o-z.page.maxh)/2|0),e<0?e=e/2|0:e>z.page.maxw&&(e=z.page.maxw+(e-z.page.maxw)/2|0)):(o<0?o=0:o>z.page.maxh&&(o=z.page.maxh),e<0?e=0:e>z.page.maxw&&(e=z.page.maxw)),z.scrollrunning&&e==z.newscrollx&&o==z.newscrolly)return!1;z.newscrolly=o,z.newscrollx=e;var n=z.getScrollTop(),s=z.getScrollLeft(),l={};l.x=e-s,l.y=o-n;var a=0|Math.sqrt(l.x*l.x+l.y*l.y),c=z.prepareTransition(a);z.scrollrunning||(z.scrollrunning=!0,z.triggerScrollStart(s,n,e,o,c),z.cursorupdate.start()),z.scrollendtrapped=!0,_.transitionend||(z.scrollendtrapped&&clearTimeout(z.scrollendtrapped),z.scrollendtrapped=setTimeout(z.onScrollTransitionEnd,c)),z.setScrollTop(z.newscrolly),z.setScrollLeft(z.newscrollx)},this.cancelScroll=function(){if(!z.scrollendtrapped)return!0;var e=z.getScrollTop(),o=z.getScrollLeft();return z.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),z.scrollendtrapped=!1,z.resetTransition(),z.setScrollTop(e),z.railh&&z.setScrollLeft(o),z.timerscroll&&z.timerscroll.tm&&clearInterval(z.timerscroll.tm),z.timerscroll=!1,z.cursorfreezed=!1,z.cursorupdate.stop(),z.showCursor(e,o),z},this.onScrollTransitionEnd=function(){if(z.scrollendtrapped){var e=z.getScrollTop(),o=z.getScrollLeft();if(e<0?e=0:e>z.page.maxh&&(e=z.page.maxh),o<0?o=0:o>z.page.maxw&&(o=z.page.maxw),e!=z.newscrolly||o!=z.newscrollx)return z.doScrollPos(o,e,E.snapbackspeed);z.scrollrunning&&z.triggerScrollEnd(),z.scrollrunning=!1,z.scrollendtrapped=!1,z.resetTransition(),z.timerscroll=!1,z.setScrollTop(e),z.railh&&z.setScrollLeft(o),z.cursorupdate.stop(),z.noticeCursor(!1,e,o),z.cursorfreezed=!1}}}else this.doScrollLeft=function(e,o){var t=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=z.getScrollTop(),i=z.getScrollLeft();((z.newscrolly-r)*(o-r)<0||(z.newscrollx-i)*(e-i)<0)&&z.cancelScroll();var n=!1;if(z.bouncescroll&&z.rail.visibility||(o<0?(o=0,n=!0):o>z.page.maxh&&(o=z.page.maxh,n=!0)),z.bouncescroll&&z.railh.visibility||(e<0?(e=0,n=!0):e>z.page.maxw&&(e=z.page.maxw,n=!0)),z.scrollrunning&&z.newscrolly===o&&z.newscrollx===e)return!0;z.newscrolly=o,z.newscrollx=e,z.dst={},z.dst.x=e-i,z.dst.y=o-r,z.dst.px=i,z.dst.py=r;var s=0|Math.sqrt(z.dst.x*z.dst.x+z.dst.y*z.dst.y),l=z.getTransitionSpeed(s);z.bzscroll={};var a=n?1:.58;z.bzscroll.x=new P(i,z.newscrollx,l,0,0,a,1),z.bzscroll.y=new P(r,z.newscrolly,l,0,0,a,1),f();var c=function(){if(z.scrollrunning){var e=z.bzscroll.y.getPos();z.setScrollLeft(z.bzscroll.x.getNow()),z.setScrollTop(z.bzscroll.y.getNow()),e<=1?z.timer=u(c):(z.scrollrunning=!1,z.timer=0,z.triggerScrollEnd())}};z.scrollrunning||(z.triggerScrollStart(i,r,e,o,l),z.scrollrunning=!0,z.timer=u(c))},this.cancelScroll=function(){return z.timer&&h(z.timer),z.timer=0,z.bzscroll=!1,z.scrollrunning=!1,z};else this.doScrollLeft=function(e,o){var t=z.getScrollTop();z.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=z.getScrollLeft();z.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=e>z.page.maxw?z.page.maxw:e;r<0&&(r=0);var i=o>z.page.maxh?z.page.maxh:o;i<0&&(i=0),z.synched("scroll",(function(){z.setScrollTop(i),z.setScrollLeft(r)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,o){S(0,e)},this.doScrollLeftBy=function(e,o){S(e,0)},this.doScrollTo=function(e,o){var t=o?Math.round(e*z.scrollratio.y):e;t<0?t=0:t>z.page.maxh&&(t=z.page.maxh),z.cursorfreezed=!1,z.doScrollTop(e)},this.checkContentSize=function(){var e=z.getContentSize();e.h==z.page.h&&e.w==z.page.w||z.resize(!1,e)},z.onscroll=function(e){z.rail.drag||z.cursorfreezed||z.synched("scroll",(function(){z.scroll.y=Math.round(z.getScrollTop()/z.scrollratio.y),z.railh&&(z.scroll.x=Math.round(z.getScrollLeft()/z.scrollratio.x)),z.noticeCursor()}))},z.bind(z.docscroll,"scroll",z.onscroll),this.doZoomIn=function(e){if(!z.zoomactive){z.zoomactive=!0,z.zoomrestore={style:{}};var o=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],t=z.win[0].style;for(var r in o){var i=o[r];z.zoomrestore.style[i]=void 0!==t[i]?t[i]:""}z.zoomrestore.style.width=z.win.css("width"),z.zoomrestore.style.height=z.win.css("height"),z.zoomrestore.padding={w:z.win.outerWidth()-z.win.width(),h:z.win.outerHeight()-z.win.height()},_.isios4&&(z.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),z.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0});var s=z.win.css("backgroundColor");return(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&z.win.css("backgroundColor","#fff"),z.rail.css({zIndex:n+101}),z.zoom.css({zIndex:n+102}),z.zoom.css("backgroundPosition","0 -18px"),z.resizeZoom(),z.onzoomin&&z.onzoomin.call(z),z.cancelEvent(e)}},this.doZoomOut=function(e){if(z.zoomactive)return z.zoomactive=!1,z.win.css("margin",""),z.win.css(z.zoomrestore.style),_.isios4&&c.scrollTop(z.zoomrestore.scrollTop),z.rail.css({"z-index":z.zindex}),z.zoom.css({"z-index":z.zindex}),z.zoomrestore=!1,z.zoom.css("backgroundPosition","0 0"),z.onResize(),z.onzoomout&&z.onzoomout.call(z),z.cancelEvent(e)},this.doZoom=function(e){return z.zoomactive?z.doZoomOut(e):z.doZoomIn(e)},this.resizeZoom=function(){if(z.zoomactive){var e=z.getScrollTop();z.win.css({width:c.width()-z.zoomrestore.padding.w+"px",height:c.height()-z.zoomrestore.padding.h+"px"}),z.onResize(),z.setScrollTop(Math.min(z.page.maxh,e))}},this.init(),s.nicescroll.push(this)},y=function(e){var o=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,t){o.stop(),o.steptime=0,o.lasttime=f(),o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var r=f();o.steptime=r-o.lasttime,o.lasttime=r;var i=t-o.lasty,n=e-o.lastx,s=o.nc.getScrollTop()+i,l=o.nc.getScrollLeft()+n;o.snapx=l<0||l>o.nc.page.maxw,o.snapy=s<0||s>o.nc.page.maxh,o.speedx=n,o.speedy=i,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var r=!1;t<0?(t=0,r=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,r=!0),e<0?(e=0,r=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,r=!0),r?o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed):o.nc.triggerScrollEnd()},this.doMomentum=function(e){var t=f(),r=e?t+e:o.lasttime,i=o.nc.getScrollLeft(),n=o.nc.getScrollTop(),s=o.nc.page.maxh,l=o.nc.page.maxw;o.speedx=l>0?Math.min(60,o.speedx):0,o.speedy=s>0?Math.min(60,o.speedy):0;var a=r&&t-r<=60;(n<0||n>s||i<0||i>l)&&(a=!1);var c=!(!o.speedy||!a)&&o.speedy,d=!(!o.speedx||!a)&&o.speedx;if(c||d){var u=Math.max(16,o.steptime);if(u>50){var h=u/50;o.speedx*=h,o.speedy*=h,u=50}o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly;var p=o.lastscrollx,m=o.lastscrolly,g=function(){var e=f()-t>600?.04:.02;o.speedx&&(p=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=p,(p<0||p>l)&&(e=.1)),o.speedy&&(m=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=m,(m<0||m>s)&&(e=.1)),o.demulxy=Math.min(1,o.demulxy+e),o.nc.synched("domomentum2d",(function(){o.speedx&&(o.nc.getScrollLeft(),o.chkx=p,o.nc.setScrollLeft(p)),o.speedy&&(o.nc.getScrollTop(),o.chky=m,o.nc.setScrollTop(m)),o.timer||(o.nc.hideCursor(),o.doSnapy(p,m))})),o.demulxy<1?o.timer=setTimeout(g,u):(o.stop(),o.nc.hideCursor(),o.doSnapy(p,m))};g()}else o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,o,t){var r=s.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():x.call(e)},set:function(e,o){var t=s.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):x.call(e,o),this}},e.fn.scrollTop=function(e){if(void 0===e){var o=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollTop():x.call(this)}return this.each((function(){var o=s.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(e)):x.call(s(this),e)}))};var S=e.fn.scrollLeft;s.cssHooks.pageXOffset={get:function(e,o,t){var r=s.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():S.call(e)},set:function(e,o){var t=s.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):S.call(e,o),this}},e.fn.scrollLeft=function(e){if(void 0===e){var o=!!this[0]&&(s.data(this[0],"__nicescroll")||!1);return o&&o.ishwscroll?o.getScrollLeft():S.call(this)}return this.each((function(){var o=s.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(e)):S.call(s(this),e)}))};var k=function(e){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return s.each(o,e),o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},e)for(var t=0;t<e.length;t++){var r=s.data(e[t],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,o,t){for(var r=0,i=o.length;r<i;r++)t(e,o[r])}(k.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,o){e[o]=function(){var e=arguments;return this.each((function(){this[o].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new k(this):this[e]&&s.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==s.data(e,"__nicescroll")},s.fn.niceScroll=function(e,o){void 0!==o||"object"!=typeof e||"jquery"in e||(o=e,e=!1);var t=new k;return this.each((function(){var r=s(this),i=s.extend({},o);if(e){var n=s(e);i.doc=n.length>1?s(e,r):n,i.win=r}!("doc"in i)||"win"in i||(i.win=r);var l=r.data("__nicescroll")||!1;l||(i.doc=i.doc||r,l=new b(i,r),r.data("__nicescroll",l)),t.push(l)})),1===t.length?t[0]:t},a.NiceScroll={getjQuery:function(){return e}},s.nicescroll||(s.nicescroll=new k,s.nicescroll.options=g)})),function(e,o,t,r){e.fn.sonar=function(o,t){return"boolean"==typeof o&&(t=o,o=r),e.sonar(this[0],o,t)};var i,n=t.body,s=e(o),l="scrollin",a="scrollout",c=function(e,i,s){if(e){n||(n=t.body);var l=e,a=0,c=n.offsetHeight,d=o.innerHeight||t.documentElement.clientHeight||n.clientHeight||0,u=t.documentElement.scrollTop||o.pageYOffset||n.scrollTop||0,h=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==c){if(l.offsetParent)do{a+=l.offsetTop}while(l=l.offsetParent);e.sonarElemTop=a,e.sonarBodyHeight=c}return i=i===r?0:i,!(e.sonarElemTop+(s?0:h)<u-i||e.sonarElemTop+(s?h:0)>u+d+i)}},d={},u=0,h=function(){i&&clearTimeout(i),i=setTimeout((function(){var o,t,r,i,n,s,l;for(r in d)for(s=0,l=(t=d[r]).length;s<l;s++)o=(i=t[s]).elem,n=c(o,i.px,i.full),(r===a?!n:n)?i.tr||(o["_"+r]?(e(o).triggerHandler(r),i.tr=1):(t.splice(s,1),s--,l--)):i.tr=0}),0)},p=function(e,o){e["_"+o]=0},m=function(o,t){var r=t.px,i=t.full,n=t.evt,p=c(o,r,i),m=0;o["_"+n]=1,(n===a?!p:p)&&(setTimeout((function(){e(o).triggerHandler(n===a?a:l)}),0),m=1),d[n].push({elem:o,px:r,full:i,tr:m}),u||(s.bind("scroll",h),u=1)};e.sonar=c,d[l]=[],e.event.special[l]={add:function(e){var o=e.data||{};this[l]||m(this,{px:o.distance,full:o.full,evt:l})},remove:function(e){p(this,l)}},d[a]=[],e.event.special[a]={add:function(e){var o=e.data||{};this[a]||m(this,{px:o.distance,full:o.full,evt:a})},remove:function(e){p(this,a)}}}(jQuery,window,document);var BJLL=BJLL||{};!function(e){function o(){var o=200;void 0!==BJLL.threshold&&(o=parseInt(BJLL.threshold)),e(".lazy-hidden").not(".data-lazy-ready").one("scrollin.bj_lazy_load",{distance:o},(function(){var o=e(this),t=o.attr("data-lazy-type");if("image"==t){var r=o.attr("data-lazy-src");if("yes"==BJLL.load_responsive||"yes"==BJLL.load_hidpi){var i=document.createElement("a");if(i.href=o.attr("data-lazy-src"),!i.hostname.length||i.hostname==window.location.hostname){var n=parseInt(o.css("width"));window.devicePixelRatio>1&&"yes"==BJLL.load_hidpi&&(n=Math.ceil(window.devicePixelRatio*n));var s=o.attr("data-lazy-src");void 0!==BJLL.site_url&&void 0!==BJLL.network_site_url&&(s=s.replace(BJLL.site_url,BJLL.network_site_url)),r=BJLL.thumb_base+encodeURIComponent(s)+"&w="+n}}o.hide().attr("src",r).removeClass("lazy-hidden").fadeIn()}else"iframe"==t&&o.replaceWith(function(e){var o,t,r,i,n,s,l,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,u=0,h=[];if(!e)return e;e+="";do{i=c.indexOf(e.charAt(d++)),n=c.indexOf(e.charAt(d++)),s=c.indexOf(e.charAt(d++)),l=c.indexOf(e.charAt(d++)),o=(a=i<<18|n<<12|s<<6|l)>>16&255,t=a>>8&255,r=255&a,h[u++]=64==s?String.fromCharCode(o):64==l?String.fromCharCode(o,t):String.fromCharCode(o,t,r)}while(d<e.length);return h.join("")}(o.attr("data-lazy-src")))})).addClass("data-lazy-ready")}e(document).ready(o),"yes"==BJLL.infinite_scroll&&e(window).on("scroll",o),e(window).on("resize",(function(){e(document).trigger("scroll")}))}(jQuery),function(e){e.session={_id:null,_cookieCache:void 0,_init:function(){window.name||(window.name=Math.random()),this._id=window.name,this._initCache();var e=new RegExp(this._generatePrefix()+"=([^;]+);").exec(document.cookie);if(e&&document.location.protocol!==e[1])for(var o in this._clearSession(),this._cookieCache)try{window.sessionStorage.setItem(o,this._cookieCache[o])}catch(e){}document.cookie=this._generatePrefix()+"="+document.location.protocol+";path=/;expires="+new Date((new Date).getTime()+12e4).toUTCString()},_generatePrefix:function(){return"__session:"+this._id+":"},_initCache:function(){var e=document.cookie.split(";");for(var o in this._cookieCache={},e){var t=e[o].split("=");new RegExp(this._generatePrefix()+".+").test(t[0])&&t[1]&&(this._cookieCache[t[0].split(":",3)[2]]=t[1])}},_setFallback:function(e,o,t){var r=this._generatePrefix()+e+"="+o+"; path=/";return t&&(r+="; expires="+new Date(Date.now()+12e4).toUTCString()),document.cookie=r,this._cookieCache[e]=o,this},_getFallback:function(e){return this._cookieCache||this._initCache(),this._cookieCache[e]},_clearFallback:function(){for(var e in this._cookieCache)document.cookie=this._generatePrefix()+e+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;";this._cookieCache={}},_deleteFallback:function(e){document.cookie=this._generatePrefix()+e+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",delete this._cookieCache[e]},get:function(e){return window.sessionStorage.getItem(e)||this._getFallback(e)},set:function(e,o,t){try{window.sessionStorage.setItem(e,o)}catch(e){}return this._setFallback(e,o,t||!1),this},delete:function(e){return this.remove(e)},remove:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}return this._deleteFallback(e),this},_clearSession:function(){try{window.sessionStorage.clear()}catch(o){for(var e in window.sessionStorage)window.sessionStorage.removeItem(e)}},clear:function(){return this._clearSession(),this._clearFallback(),this}},e.session._init()}(jQuery);